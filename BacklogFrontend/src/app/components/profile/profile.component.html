@if (yourProfile) {
    <h1>This is your profile, {{currentUser.userName}}!</h1>

    <p>Current level: {{currentUser.level}}</p>
    <p>Current XP: {{currentUser.totalXp}}</p>

    <h3>Your friends:</h3>
    <div class="friends-container">
        @for (f of friends; track $index) {
            <div class="search-item">
                <div class="search-content">
                    <img [src]="f.pfp" class="cover-image" (click)="navigateToProfile(f.id)" />
                    <div class="text-content">
                        <h2>{{ f.userName }}</h2>
                        <p>Level: {{ f.level }}</p>
                        <p>XP: {{ f.totalXp }}</p>
                        <button class="button" (click)="navigateToBacklog(f.id)">View Backlog</button>
                        <button class="button" (click)="removeFriend(f.id)">Remove Friend</button>
                    </div>
                </div>
            </div>
        }
    </div>
}
@else {
    <h1>This is {{currentUser.userName}}'s profile!</h1>

    <p>Current level: {{currentUser.level}}</p>
    <p>Current XP: {{currentUser.totalXp}}</p>

    <div class="center-button">
        <button class="button" (click)="navigateToBacklog(currentUser.id)">Backlog</button>
    </div>
    @if (isLoggedIn) {
        <button class="button" (click)="addFriend(currentUser.id)">Add Friend</button>
    }
    

    <h3>{{ currentUser.userName }}'s friends:</h3>
    <div class="friends-container">
        @for (f of friends; track $index) {
            <div class="search-item">
                <div class="search-content">
                    <img [src]="f.pfp" class="cover-image" (click)="navigateToProfile(f.id)" />
                    <div class="text-content">
                        <h2>{{ f.userName }}</h2>
                        <p>Level: {{ f.level }}</p>
                        <p>XP: {{ f.totalXp }}</p>
                        <button class="button" (click)="navigateToBacklog(f.id)">Backlog</button>
                    </div>
                </div>
            </div>
        }
    </div>
}
